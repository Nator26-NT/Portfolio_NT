<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NTANDO THUMBU · 3D SOLAR PORTFOLIO</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Three.js library -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.128.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.128.0/examples/jsm/"
            }
        }
    </script>
    <style>
        body { margin: 0; overflow: hidden; font-family: 'Segoe UI', sans-serif; }
        #info-panel { 
            position: absolute; 
            top: 20px; 
            left: 20px; 
            z-index: 100; 
            pointer-events: none; 
        }
        #github-link { 
            position: absolute; 
            bottom: 20px; 
            right: 20px; 
            z-index: 100; 
            pointer-events: auto;
        }
        .planet-label { 
            position: absolute; 
            background: rgba(0,0,0,0.85); 
            color: white; 
            padding: 8px 16px; 
            border-radius: 30px; 
            font-size: 14px; 
            font-weight: 500;
            pointer-events: auto; 
            transform: translate(-50%, -50%); 
            border: 1px solid #fbbf24; 
            white-space: nowrap; 
            backdrop-filter: blur(4px); 
            z-index: 200;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        .planet-label:hover {
            background: #fbbf24;
            color: black;
            transform: translate(-50%, -50%) scale(1.1);
            border-color: white;
        }
        .planet-label:hover i {
            color: black;
        }
        /* Override CSS2DRenderer pointer events */
        .css2d-object {
            pointer-events: none !important;
        }
        .css2d-object div {
            pointer-events: auto !important;
        }
    </style>
</head>
<body class="bg-black text-white">

    <!-- Name header with Tailwind styling - CORRECTED to NTANDO -->
    <div id="info-panel" class="bg-black/50 backdrop-blur-md rounded-2xl border border-amber-500/30 p-6 shadow-2xl">
        <h1 class="text-5xl font-light bg-gradient-to-r from-amber-200 via-amber-400 to-orange-400 bg-clip-text text-transparent">NTANDO THUMBU</h1>
        <p class="text-amber-200/80 text-lg mt-2 flex items-center gap-3">
            <i class="fas fa-code text-amber-400"></i> developer · cloud · ai
            <i class="fas fa-cloud-sun text-amber-400 ml-2"></i>
        </p>
        <div class="flex gap-3 mt-4 text-sm">
            <span class="px-3 py-1 bg-amber-500/20 rounded-full border border-amber-500/40"><i class="fas fa-certificate mr-1 text-amber-400"></i> AZ-900</span>
            <span class="px-3 py-1 bg-amber-500/20 rounded-full border border-amber-500/40"><i class="fas fa-certificate mr-1 text-amber-400"></i> IBM Data Science</span>
            <span class="px-3 py-1 bg-amber-500/20 rounded-full border border-amber-500/40"><i class="fas fa-microchip mr-1 text-amber-400"></i> CAIP</span>
        </div>
    </div>

    <!-- GitHub profile link -->
    <div id="github-link" class="bg-black/50 backdrop-blur-md rounded-full border border-amber-500/30 p-3 shadow-2xl">
        <a href="https://github.com/Nator26-NT" target="_blank" class="text-amber-400 hover:text-amber-300 transition-colors text-2xl">
            <i class="fab fa-github"></i>
        </a>
    </div>

    <!-- Container for Three.js canvas -->
    <div id="canvas-container" class="fixed inset-0"></div>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
        import { CSS2DRenderer, CSS2DObject } from 'three/addons/renderers/CSS2DRenderer.js';

        // --- Setup Scene, Camera, Renderers ---
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x050510);
        
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 10, 25);
        camera.lookAt(0, 0, 0);

        // WebGL Renderer
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // CSS2 Renderer for labels
        const labelRenderer = new CSS2DRenderer();
        labelRenderer.setSize(window.innerWidth, window.innerHeight);
        labelRenderer.domElement.style.position = 'absolute';
        labelRenderer.domElement.style.top = '0px';
        labelRenderer.domElement.style.left = '0px';
        labelRenderer.domElement.style.pointerEvents = 'none';
        document.getElementById('canvas-container').appendChild(labelRenderer.domElement);

        // Controls
        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 0.8;
        controls.enableZoom = true;
        controls.maxPolarAngle = Math.PI / 2;
        controls.minDistance = 10;
        controls.maxDistance = 50;

        // --- Lighting ---
        const ambientLight = new THREE.AmbientLight(0x404060);
        scene.add(ambientLight);

        // Sun light
        const sunLight = new THREE.PointLight(0xffaa55, 2, 50);
        sunLight.position.set(0, 0, 0);
        scene.add(sunLight);

        const dirLight = new THREE.DirectionalLight(0xffffff, 1);
        dirLight.position.set(5, 10, 7);
        dirLight.castShadow = true;
        dirLight.receiveShadow = true;
        scene.add(dirLight);

        const fillLight = new THREE.PointLight(0x4466aa, 0.5);
        fillLight.position.set(0, -5, 5);
        scene.add(fillLight);

        // --- Stars background ---
        const starsGeometry = new THREE.BufferGeometry();
        const starsCount = 3000;
        const starsPositions = new Float32Array(starsCount * 3);
        for (let i = 0; i < starsCount * 3; i += 3) {
            starsPositions[i] = (Math.random() - 0.5) * 200;
            starsPositions[i+1] = (Math.random() - 0.5) * 200;
            starsPositions[i+2] = (Math.random() - 0.5) * 200;
        }
        starsGeometry.setAttribute('position', new THREE.BufferAttribute(starsPositions, 3));
        const starsMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 0.2, transparent: true });
        const stars = new THREE.Points(starsGeometry, starsMaterial);
        scene.add(stars);

        // --- Central Sun ---
        const sunGeometry = new THREE.SphereGeometry(2.2, 64, 64);
        const sunMaterial = new THREE.MeshStandardMaterial({
            color: 0xffaa33,
            emissive: 0xff5500,
            roughness: 0.3,
            metalness: 0.1
        });
        const sun = new THREE.Mesh(sunGeometry, sunMaterial);
        sun.castShadow = true;
        sun.receiveShadow = true;
        scene.add(sun);

        // Sun glow
        const glowGeometry = new THREE.SphereGeometry(2.5, 32, 32);
        const glowMaterial = new THREE.MeshBasicMaterial({
            color: 0xff8822,
            transparent: true,
            opacity: 0.2
        });
        const glow = new THREE.Mesh(glowGeometry, glowMaterial);
        scene.add(glow);

        // Sun label with CORRECTED name
        const sunLabelDiv = document.createElement('div');
        sunLabelDiv.className = 'planet-label bg-gradient-to-r from-amber-600 to-orange-600 border-amber-300 text-white font-bold px-4 py-2 text-lg';
        sunLabelDiv.innerHTML = '<i class="fas fa-sun mr-2"></i>NTANDO THUMBU';
        sunLabelDiv.style.cursor = 'default';
        sunLabelDiv.onclick = null;
        const sunLabel = new CSS2DObject(sunLabelDiv);
        sunLabel.position.set(0, 3, 0);
        sun.add(sunLabel);

        // --- Project Data with working links ---
        const projects = [
            { name: 'Gov_app', url: 'https://github.com/Nator26-NT/Gov_app', color: 0x3a6ea5, size: 0.6, orbit: 4.5, speed: 0.015, tech: 'HTML' },
            { name: 'Signal-Gen', url: 'https://github.com/Nator26-NT/Signal-Gen', color: 0xc47e3a, size: 0.55, orbit: 5.2, speed: 0.013, tech: 'Python' },
            { name: 'Gold-Scalping', url: 'https://github.com/Nator26-NT/Gold-Scalping-AI-Pro', color: 0xd4af37, size: 0.65, orbit: 6.5, speed: 0.011, tech: 'AI' },
            { name: 'ForZarAi', url: 'https://github.com/Nator26-NT/ForZarAi', color: 0x6a4e9b, size: 0.7, orbit: 7.5, speed: 0.009, tech: 'LLM' },
            { name: 'Forex AI', url: 'https://github.com/Nator26-NT/Forex-trades_AI-tool', color: 0x2e8b57, size: 0.65, orbit: 8.5, speed: 0.008, tech: 'Python' },
            { name: 'Football Predictor', url: 'https://github.com/Nator26-NT/African-Football-Predictor-Pro-2025', color: 0xcd5c5c, size: 0.75, orbit: 9.5, speed: 0.007, tech: 'ML' },
            { name: 'IBM Consulting', url: 'https://github.com/Nator26-NT/IBM_Consulting_Page', color: 0x4682b4, size: 0.7, orbit: 10.5, speed: 0.006, tech: 'HTML' },
            { name: 'Ubuntu Code', url: 'https://github.com/Nator26-NT/Ubuntu_Code_App', color: 0x8b4513, size: 0.8, orbit: 11.5, speed: 0.0055, tech: 'Python' },
            { name: 'Eskom vs Economy', url: 'https://github.com/Nator26-NT/Eskom_VS_Economy', color: 0x556b2f, size: 0.7, orbit: 12.5, speed: 0.005, tech: 'Python' },
            { name: 'SpaceX Falcon9', url: 'https://github.com/Nator26-NT/SpaceX-Falcon9-First-Stage-Landing-Prediction', color: 0x708090, size: 0.75, orbit: 13.5, speed: 0.0045, tech: 'Jupyter' },
            { name: 'Face Detector', url: 'https://github.com/Nator26-NT/Face_Detector', color: 0x9acd32, size: 0.6, orbit: 14.5, speed: 0.004, tech: 'OpenCV' },
            { name: 'headsoccer', url: 'https://github.com/Nator26-NT/headsoccer', color: 0xff6347, size: 0.65, orbit: 15.5, speed: 0.0035, tech: 'Game' },
            { name: 'Task Manager', url: 'https://github.com/Nator26-NT/Task_Manager', color: 0x20b2aa, size: 0.6, orbit: 16.5, speed: 0.003, tech: 'JS' },
            { name: 'KundiZA Hub', url: 'https://github.com/Nator26-NT/KundiZA_Hub', color: 0xba55d3, size: 0.75, orbit: 17.5, speed: 0.0025, tech: 'Frontend' }
        ];

        // Store planet meshes with their data for animation
        const planets = [];

        // Create orbit rings and planets
        projects.forEach(proj => {
            // Create visible orbit ring
            const points = [];
            const radius = proj.orbit;
            for (let i = 0; i <= 64; i++) {
                const angle = (i / 64) * Math.PI * 2;
                points.push(new THREE.Vector3(Math.cos(angle) * radius, 0, Math.sin(angle) * radius));
            }
            const ringGeometry = new THREE.BufferGeometry().setFromPoints(points);
            const ringMaterial = new THREE.LineBasicMaterial({ color: 0x88aaff, transparent: true, opacity: 0.15 });
            const ring = new THREE.LineLoop(ringGeometry, ringMaterial);
            scene.add(ring);

            // Planet sphere
            const geometry = new THREE.SphereGeometry(proj.size, 32, 32);
            const material = new THREE.MeshStandardMaterial({
                color: proj.color,
                emissive: new THREE.Color(proj.color).multiplyScalar(0.2),
                roughness: 0.4,
                metalness: 0.1
            });
            const planet = new THREE.Mesh(geometry, material);
            planet.castShadow = true;
            planet.receiveShadow = true;
            
            // Random initial position
            const initAngle = Math.random() * Math.PI * 2;
            planet.position.x = Math.cos(initAngle) * proj.orbit;
            planet.position.z = Math.sin(initAngle) * proj.orbit;
            
            scene.add(planet);

            // Create clickable label with working link
            const labelDiv = document.createElement('div');
            labelDiv.className = 'planet-label';
            labelDiv.innerHTML = `<i class="fab fa-github"></i>${proj.name}<span class="ml-2 text-xs opacity-75">${proj.tech}</span>`;
            
            // Add click handler directly to the div
            labelDiv.addEventListener('click', (e) => {
                e.stopPropagation();
                window.open(proj.url, '_blank');
            });
            
            const label = new CSS2DObject(labelDiv);
            label.position.set(0, proj.size + 1.0, 0);
            planet.add(label);

            // Store planet data
            planets.push({
                mesh: planet,
                radius: proj.orbit,
                speed: proj.speed,
                angle: initAngle
            });
        });

        // Add asteroid belt
        const asteroidGeo = new THREE.BufferGeometry();
        const asteroidCount = 400;
        const asteroidPos = new Float32Array(asteroidCount * 3);
        for (let i = 0; i < asteroidCount; i++) {
            const r = 7 + Math.random() * 2;
            const theta = Math.random() * Math.PI * 2;
            const y = (Math.random() - 0.5) * 1.5;
            asteroidPos[i*3] = Math.cos(theta) * r;
            asteroidPos[i*3+1] = y;
            asteroidPos[i*3+2] = Math.sin(theta) * r;
        }
        asteroidGeo.setAttribute('position', new THREE.BufferAttribute(asteroidPos, 3));
        const asteroidMat = new THREE.PointsMaterial({ color: 0xccaa88, size: 0.1 });
        const asteroids = new THREE.Points(asteroidGeo, asteroidMat);
        scene.add(asteroids);

        // Fog
        scene.fog = new THREE.FogExp2(0x050510, 0.002);

        // --- Animation Loop ---
        let clock = new THREE.Clock();

        function animate() {
            const delta = clock.getDelta();
            
            // Rotate planets
            planets.forEach(p => {
                p.angle += p.speed * delta * 3;
                p.mesh.position.x = Math.cos(p.angle) * p.radius;
                p.mesh.position.z = Math.sin(p.angle) * p.radius;
                p.mesh.rotation.y += 0.01;
            });

            // Rotate stars
            stars.rotation.y += 0.0001;

            controls.update();
            
            renderer.render(scene, camera);
            labelRenderer.render(scene, camera);

            requestAnimationFrame(animate);
        }

        animate();

        // Handle window resize
        window.addEventListener('resize', onWindowResize, false);
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            labelRenderer.setSize(window.innerWidth, window.innerHeight);
        }

        console.log('✅ 3D Solar System ready - Click any planet label to open GitHub repo');
    </script>
</body>
</html>